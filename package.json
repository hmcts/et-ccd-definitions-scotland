{
  "name": "ccd-definition-processor",
  "version": "1.0.0",
  "description": "Utility to help creating Reform ET CCD definitions for Scotland",
  "dependencies": {
    "glob": "^7.2.0",
    "json-stringify-pretty-compact": "^3.0.0",
    "lodash": "^4.17.21",
    "matcher": "4.0.0",
    "minimist": "^1.2.6",
    "moment": "^2.29.4",
    "prettier": "^2.8.3",
    "pretty-quick": "^3.1.3",
    "xlsx": "^0.18.2",
    "xlsx-populate": "^1.21.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-plugin-mocha": "^10.0.3",
    "mocha": "^9.2.1"
  },
  "config": {
    "local": {
      "et_cos": "http://host.docker.internal:8081",
      "ccd_url": "http://host.docker.internal:4452",
      "aac_url": "http://host.docker.internal:4454"
    },
    "cftlib": {
      "et_cos": "http://localhost:8081",
      "ccd_url": "http://localhost:4452",
      "aac_url": "http://localhost:4454"
    },
    "demo": {
      "et_cos": "http://et-cos-demo.service.core-compute-demo.internal",
      "ccd_url": "http://ccd-data-store-api-demo.service.core-compute-demo.internal",
      "aac_url": "http://aac-manage-case-assignment-demo.service.core-compute-demo.internal"
    },
    "aat": {
      "et_cos": "http://et-cos-aat.service.core-compute-aat.internal",
      "ccd_url": "http://ccd-data-store-api-aat.service.core-compute-aat.internal",
      "aac_url": "http://aac-manage-case-assignment-aat.service.core-compute-aat.internal"
    },
    "perftest": {
      "et_cos": "http://et-cos-perftest.service.core-compute-perftest.internal",
      "ccd_url": "http://ccd-data-store-api-perftest.service.core-compute-perftest.internal",
      "aac_url": "http://aac-manage-case-assignment-perftest.service.core-compute-perftest.internal"
    },
    "prod": {
      "et_cos": "http://et-cos-prod.service.core-compute-prod.internal",
      "ccd_url": "http://ccd-data-store-api-prod.service.core-compute-prod.internal",
      "aac_url": "http://aac-manage-case-assignment-prod.service.core-compute-prod.internal"
    }
  },
  "scripts": {
    "lint": "eslint src",
    "test": "mocha ./src/test --timeout 20000",
    "lint-fix": "eslint src --fix",
    "json2xlsx": "node ./bin/json2xlsx",
    "xlsx2json": "node ./bin/xlsx2json",
    "generate-json": "yarn xlsx2json -D ./definitions/json -i ./definitions/xlsx/ccd-config-base.xlsx && pretty-quick --pattern 'definitions/**/json/**.json'",
    "generate-excel-local": "ET_ENV=local ET_COS_URL=$npm_package_config_local_et_cos CCD_DEF_URL=$npm_package_config_local_ccd_url CCD_DEF_AAC_URL=$npm_package_config_local_aac_url yarn run generate-excel -e *-prod.json",
    "generate-excel-cftlib": "ET_ENV=cftlib ET_COS_URL=$npm_package_config_cftlib_et_cos CCD_DEF_URL=$npm_package_config_cftlib_ccd_url CCD_DEF_AAC_URL=$npm_package_config_cftlib_aac_url yarn run generate-excel -e *-prod.json",
    "generate-excel-preview": "ET_ENV=preview ET_COS_URL=$ET_COS_URL CCD_DEF_URL=$CCD_DEF_URL CCD_DEF_AAC_URL=$CCD_DEF_AAC_URL yarn run generate-excel -e *-prod.json",
    "generate-excel-demo": "ET_ENV=demo ET_COS_URL=$npm_package_config_demo_et_cos CCD_DEF_URL=$npm_package_config_demo_ccd_url CCD_DEF_AAC_URL=$npm_package_config_demo_aac_url yarn run generate-excel -e *-prod.json",
    "generate-excel-aat": "ET_ENV=aat ET_COS_URL=$npm_package_config_aat_et_cos CCD_DEF_URL=$npm_package_config_aat_ccd_url CCD_DEF_AAC_URL=$npm_package_config_aat_aac_url yarn run generate-excel -e *-prod.json",
    "generate-excel-perftest": "ET_ENV=perftest ET_COS_URL=$npm_package_config_perftest_et_cos CCD_DEF_URL=$npm_package_config_perftest_ccd_url CCD_DEF_AAC_URL=$npm_package_config_perftest_aac_url yarn run generate-excel -e *-prod.json",
    "generate-excel-prod": "ET_ENV=prod ET_COS_URL=$npm_package_config_prod_et_cos CCD_DEF_URL=$npm_package_config_prod_ccd_url CCD_DEF_AAC_URL=$npm_package_config_prod_aac_url yarn run generate-excel -e *-nonprod.json",
    "generate-excel": "yarn json2xlsx -D ./definitions/json -o ./definitions/xlsx/et-scotland-ccd-config-${ET_ENV:-base}.xlsx",
    "generate-excel-all": "yarn generate-excel-local && yarn generate-excel-demo && yarn generate-excel-aat && yarn generate-excel-prod"
  }
}